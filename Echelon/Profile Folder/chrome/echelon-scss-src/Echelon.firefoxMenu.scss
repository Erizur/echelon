/* Container properties */
#echelon-appmenu-button-menu {
	appearance: none !important;
}

.splitmenu-menuitem {
	flex: 1;
	appearance: menuitem;
    align-items: center;
	font: menu;
	list-style-image: none;
	margin-right: 1px;
	
	&[disabled="true"] {
		color: GrayText;
		text-shadow: none;
		
		@media all and (-moz-windows-classic) {
			& {
				color: ThreeDShadow;
				text-shadow: 1px 1px ThreeDHighlight;
			}
		}
	}
}

echelon-splitmenu {
	display: flex;

	&[active="true"] {
		& .splitmenu-menuitem,
		& .splitmenu-menu {
			background-color: highlight;
			color: -moz-menuhovertext;
		}
	}
}

// Thin expander buttons
// The labels must be hidden, but in such a way to prevent the glyph
// from being uncentred.
echelon-splitmenu .splitmenu-menu > label,
#appmenu-editmenu > label {
	appearance: none !important;
	margin: 0 !important;
	padding: 0 !important;
}

echelon-splitmenu .splitmenu-menu > .menu-accel-container,
#appmenu-editmenu > .menu-accel-container {
	display: none !important;
}

// Hide keybind displays on main appmenu menu items.
#appmenuPrimaryPane, #appmenuSecondaryPane {
	& > menuitem > .menu-accel-container {
		display: none;
	}
}

#appmenuSecondaryPane-spacer {
	min-height: 1em;
}

#echelon-appmenu-button-menu .menu-iconic-left {
	appearance: auto !important;
	-moz-default-appearance: menuimage !important;
}

#echelon-appmenu-button-menu :is([type="checkbox"], [checked="true"]) .menu-iconic-left {
	-moz-default-appearance: menucheckbox !important;
}

#appmenuSecondaryPane .menu-iconic-text {
	margin-inline-end: 6px !important;
}

@media not (-moz-windows-classic)
{
    #appmenuPrimaryPane {
		background-color: rgba(255, 255, 255, 0.5);
		padding: 2px;
		-moz-border-end: none;
	}
	
	#appmenuSecondaryPane {
		background-color: #f1f5fb;
		box-shadow: 1px 0 2px rgb(204, 214, 234) inset;
	}
	
	#appmenuSecondaryPane:-moz-locale-dir(rtl) {
		box-shadow: -1px 0 2px rgb(204, 214, 234) inset;
	}
	
	#appmenuSecondaryPane menupopup {
		appearance: none !important;
		background-color: #f1f5fb !important;
		border: 1px solid ThreeDShadow !important;
		padding: 2px !important;
	}
	
	#appmenuPrimaryPane menuitem:where([disabled="true"]) {
		font-style: italic !important;
	}
}

#appmenuPrimaryPane toolbarbutton .toolbarbutton-icon {
	width: 16px !important;
	height: 16px !important;
	background-image: url('images/icons/ffmenu/appmenu-icons.png') !important;
}

/* Disable hover effect on "Edit" menu. */
#appmenu-edit-label {
	pointer-events: none !important;
}

/* Container Icons */

#appmenu_privateBrowsing,
#appmenu_print,
#appmenu-quit,
#appmenu_bookmarks,
#appmenu_addons,
#appmenu-editmenu-cut,
#appmenu-editmenu-copy,
#appmenu-editmenu-paste {
	.menu-iconic-icon {
		background-image: url('images/icons/ffmenu/appmenu-icons.png') !important;
	}
}

#appmenu_privateBrowsing .menu-iconic-icon {
	background-position-x: 0 !important;
}

#appmenu-cut .toolbarbutton-icon,
#appmenu-editmenu-cut .menu-iconic-icon {
	background-position-x: -16px !important;
}

#appmenu-copy .toolbarbutton-icon,
#appmenu-editmenu-copy .menu-iconic-icon {
	background-position-x: -32px !important;
}

#appmenu-paste .toolbarbutton-icon,
#appmenu-editmenu-paste .menu-iconic-icon {
	background-position-x: -48px !important;
}

#appmenu_print .menu-iconic-icon {
	background-position-x: -64px !important;
}

#appmenu-quit .menu-iconic-icon {
	background-position-x: -80px !important;
}

#appmenu_addons .menu-iconic-icon {
	background-position-x: -96px !important;
}

#appmenu_bookmarks .menu-iconic-icon {
	background-position-x: -112px !important;
}

/* Firefox 10 changes the "Bookmarks" menu icon. */
#main-window[echelon-style-3] #appmenu_bookmarks .menu-iconic-icon {
	background-image: url('images/editBookmark.png') !important;
	background-position-x: -32px !important;
}